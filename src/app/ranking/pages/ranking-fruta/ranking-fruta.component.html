@if (this.users === null) {
    <div class="flex items-center justify-center h-[80vh] w-full">
        <app-skeleton></app-skeleton>
    </div>
    } @else {
    @if (users!.length == 0) {
    <div class="flex items-center justify-center h-[80vh]">
        <div class="text-center">
            <p class="text-4xl md:text-6xl font-bold text-gray-600 opacity-40">No hay usuarios</p>
            <p class="text-lg md:text-2xl text-gray-500 mt-2 opacity-40">Lamentablemente, no hay usuarios en el ranking.</p>
        </div>
    </div>
    } @else {
    <div class="container mx-auto mt-8 text-center ">
        <button
            class="bg-slate-900 hover:bg-slate-700 transition-colors text-xl md:text-2xl text-white font-bold py-2 md:py-4 px-4 md:px-8 rounded-full mx-auto mb-4"
            (click)="actualizarTabla()">Actualizar</button>
    
        <h1 class="text-4xl md:text-6xl font-bold mb-4 md:mb-8 text-center mt-4">Ranking Fruta</h1>
    
        <div class="flex items-center justify-center">
            <table class="w-full md:max-w-[80vh] bg-white border border-gray-300 text-center">
                <thead>
                    <tr class="bg-slate-900 text-white text-xl md:text-2xl">
                        <th class="border-b px-2 md:px-4 py-2">Posición</th>
                        <th class="border-b px-2 md:px-4 py-2 font-bold">Nombre</th>
                        <th class="border-b px-2 md:px-4 py-2">Score</th>
                        <th class="border-b px-2 md:px-4 py-2">Plástico (gramos)</th>
                        <th class="border-b px-2 md:px-4 py-2">Agua (litros)</th>
                        <th class="border-b px-2 md:px-4 py-2">CO<sub>2</sub> (gramos)</th>
                    </tr>
                </thead>
                <tbody>
                    @for (user of users; track $index) {
                    <tr class="text-center {{$index%2==0?'bg-slate-200':''}} text-xl md:text-2xl">
                        <td class="border-b px-2 md:px-4 py-2">{{ $index+1 }}</td>
                        <td class="border-b px-2 md:px-4 py-2">{{ user.name }}</td>
                        <td class="border-b px-2 md:px-4 py-2">{{ user.score }}</td>
                        <td class="border-b px-2 md:px-4 py-2">{{ (user.score * 1.5).toFixed(2) }}</td>
                        <td class="border-b px-2 md:px-4 py-2">{{ (user.score * 2.7).toFixed(2) }}</td>
                        <td class="border-b px-2 md:px-4 py-2">{{ (user.score * 3).toFixed(2) }}</td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
    }
    }